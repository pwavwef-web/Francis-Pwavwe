<!DOCTYPE html>
<html class="dark" lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard — The AZ Podcast</title>
  <link rel="icon" href="../../favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
  <style>
    *{box-sizing:border-box}
    body{background:#0a0a0f;color:#f8fafc;font-family:'Inter',sans-serif;min-height:100vh}
    .fp-poppins{font-family:'Poppins',sans-serif}
    .fp-gold{color:#fbbf24}
    .fp-muted{color:#94a3b8}
    .sidebar{width:240px;flex-shrink:0;background:#0d1117;border-right:1px solid rgba(255,255,255,.07);min-height:100vh;padding:1.5rem 0;position:fixed;top:0;left:0;z-index:40}
    .sidebar-link{display:flex;align-items:center;gap:0.75rem;padding:0.6rem 1.25rem;color:#94a3b8;font-size:0.875rem;text-decoration:none;border-radius:0;transition:all .2s;border-left:3px solid transparent}
    .sidebar-link:hover{color:#f8fafc;background:rgba(255,255,255,.05)}
    .sidebar-link.active{color:#fbbf24;background:rgba(251,191,36,.07);border-left-color:#fbbf24}
    .main{margin-left:240px;min-height:100vh;padding:2rem}
    .card{background:#111827;border:1px solid rgba(255,255,255,.08);border-radius:1rem}
    .stat-card{background:#111827;border:1px solid rgba(255,255,255,.08);border-radius:0.75rem;padding:1.25rem}
    .badge{display:inline-flex;align-items:center;padding:0.2rem 0.6rem;border-radius:9999px;font-size:0.75rem;font-weight:600}
    .btn{display:inline-flex;align-items:center;gap:0.5rem;padding:0.6rem 1.2rem;border-radius:0.5rem;font-weight:600;font-family:'Inter',sans-serif;cursor:pointer;transition:all .2s;border:none;font-size:0.875rem;text-decoration:none}
    .btn-primary{background:#1e40af;color:#fff}
    .btn-primary:hover{background:#2563eb}
    .btn-outline{background:transparent;color:#f8fafc;border:1px solid rgba(255,255,255,.2)}
    .btn-outline:hover{border-color:#6366f1;color:#a5b4fc}
    @media(max-width:768px){.sidebar{display:none}.main{margin-left:0}}
  </style>
</head>
<body>
<script src="admin-auth.js"></script>
<script>requireAdmin();</script>

<!-- SIDEBAR -->
<aside class="sidebar">
  <div class="px-5 mb-6">
    <p class="text-xs tracking-[0.2em] fp-gold font-semibold fp-poppins mb-0.5">THE AZ PODCAST</p>
    <p class="text-white font-bold fp-poppins text-sm">Admin Panel</p>
  </div>
  <nav>
    <a href="index.html" class="sidebar-link active"><i data-lucide="layout-dashboard" class="w-4 h-4"></i> Dashboard</a>
    <a href="upload.html" class="sidebar-link"><i data-lucide="upload-cloud" class="w-4 h-4"></i> Upload Episode</a>
    <a href="manage.html" class="sidebar-link"><i data-lucide="list" class="w-4 h-4"></i> Manage Episodes</a>
    <a href="analytics.html" class="sidebar-link"><i data-lucide="bar-chart-2" class="w-4 h-4"></i> Analytics</a>
    <a href="settings.html" class="sidebar-link"><i data-lucide="settings" class="w-4 h-4"></i> Settings</a>
    <div style="height:1px;background:rgba(255,255,255,.07);margin:1rem 1.25rem"></div>
    <a href="../index.html" class="sidebar-link"><i data-lucide="radio" class="w-4 h-4"></i> View Podcast</a>
    <a href="javascript:void(0)" onclick="adminLogout()" class="sidebar-link" style="color:#f87171"><i data-lucide="log-out" class="w-4 h-4"></i> Logout</a>
  </nav>
</aside>

<!-- MAIN -->
<main class="main">
  <div class="flex items-center justify-between mb-8">
    <div>
      <p class="text-xs tracking-[0.2em] fp-muted fp-poppins mb-1">ADMIN DASHBOARD</p>
      <h1 class="fp-poppins text-2xl font-bold text-white">Welcome back</h1>
    </div>
    <a href="upload.html" class="btn btn-primary"><i data-lucide="plus" class="w-4 h-4"></i> New Episode</a>
  </div>

  <!-- STATS -->
  <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
    <div class="stat-card">
      <div class="flex items-center justify-between mb-2">
        <span class="text-sm fp-muted">Total Episodes</span>
        <i data-lucide="mic" class="w-4 h-4" style="color:#fbbf24"></i>
      </div>
      <p class="fp-poppins text-2xl font-bold text-white">6</p>
      <p class="text-xs fp-muted mt-1">Season 1</p>
    </div>
    <div class="stat-card">
      <div class="flex items-center justify-between mb-2">
        <span class="text-sm fp-muted">Published</span>
        <i data-lucide="check-circle" class="w-4 h-4" style="color:#10b981"></i>
      </div>
      <p class="fp-poppins text-2xl font-bold text-white">6</p>
      <p class="text-xs fp-muted mt-1 flex items-center gap-1"><span class="w-1.5 h-1.5 rounded-full bg-green-400 inline-block"></span> All live</p>
    </div>
    <div class="stat-card">
      <div class="flex items-center justify-between mb-2">
        <span class="text-sm fp-muted">Total Duration</span>
        <i data-lucide="clock" class="w-4 h-4" style="color:#6366f1"></i>
      </div>
      <p class="fp-poppins text-2xl font-bold text-white">5h 20m</p>
      <p class="text-xs fp-muted mt-1">Across all episodes</p>
    </div>
    <div class="stat-card">
      <div class="flex items-center justify-between mb-2">
        <span class="text-sm fp-muted">Latest Episode</span>
        <i data-lucide="calendar" class="w-4 h-4" style="color:#f97316"></i>
      </div>
      <p class="fp-poppins text-xl font-bold text-white">Feb 10</p>
      <p class="text-xs fp-muted mt-1">S1 · E6</p>
    </div>
  </div>

  <!-- QUICK ACTIONS -->
  <div class="card p-6 mb-8">
    <h2 class="fp-poppins font-bold text-white mb-4 text-base">Quick Actions</h2>
    <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-3">
      <a href="upload.html" class="flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 transition-colors group" style="border:1px solid rgba(255,255,255,.07)">
        <div class="w-9 h-9 rounded-lg flex items-center justify-center" style="background:rgba(30,64,175,.2)"><i data-lucide="upload-cloud" class="w-4 h-4" style="color:#93c5fd"></i></div>
        <div><p class="text-sm font-medium text-white">Upload Episode</p><p class="text-xs fp-muted">Add new content</p></div>
      </a>
      <a href="manage.html" class="flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 transition-colors" style="border:1px solid rgba(255,255,255,.07)">
        <div class="w-9 h-9 rounded-lg flex items-center justify-center" style="background:rgba(99,102,241,.2)"><i data-lucide="edit-3" class="w-4 h-4" style="color:#a5b4fc"></i></div>
        <div><p class="text-sm font-medium text-white">Manage Episodes</p><p class="text-xs fp-muted">Edit or delete</p></div>
      </a>
      <a href="analytics.html" class="flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 transition-colors" style="border:1px solid rgba(255,255,255,.07)">
        <div class="w-9 h-9 rounded-lg flex items-center justify-center" style="background:rgba(16,185,129,.2)"><i data-lucide="trending-up" class="w-4 h-4" style="color:#6ee7b7"></i></div>
        <div><p class="text-sm font-medium text-white">Analytics</p><p class="text-xs fp-muted">View stats</p></div>
      </a>
      <a href="settings.html" class="flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 transition-colors" style="border:1px solid rgba(255,255,255,.07)">
        <div class="w-9 h-9 rounded-lg flex items-center justify-center" style="background:rgba(251,191,36,.15)"><i data-lucide="settings" class="w-4 h-4" style="color:#fbbf24"></i></div>
        <div><p class="text-sm font-medium text-white">Settings</p><p class="text-xs fp-muted">Configure podcast</p></div>
      </a>
    </div>
  </div>

  <!-- RECENT EPISODES -->
  <div class="card p-6">
    <div class="flex items-center justify-between mb-4">
      <h2 class="fp-poppins font-bold text-white text-base">Recent Episodes</h2>
      <a href="manage.html" class="text-xs text-[#6366f1] hover:text-[#a5b4fc] transition-colors">Manage all →</a>
    </div>
    <div class="overflow-x-auto">
      <table class="w-full text-sm">
        <thead>
          <tr style="border-bottom:1px solid rgba(255,255,255,.07)">
            <th class="text-left py-2 pr-4 text-xs fp-muted font-medium tracking-wide">#</th>
            <th class="text-left py-2 pr-4 text-xs fp-muted font-medium tracking-wide">Title</th>
            <th class="text-left py-2 pr-4 text-xs fp-muted font-medium tracking-wide hidden sm:table-cell">Date</th>
            <th class="text-left py-2 pr-4 text-xs fp-muted font-medium tracking-wide hidden md:table-cell">Duration</th>
            <th class="text-left py-2 text-xs fp-muted font-medium tracking-wide">Status</th>
          </tr>
        </thead>
        <tbody id="recentEpisodesTable"></tbody>
      </table>
    </div>
  </div>
</main>

<script src="../az-episodes.js"></script>
<script>
  lucide.createIcons();

  // Render recent episodes table
  const tbody = document.getElementById('recentEpisodesTable');
  const recent = AZ_EPISODES.slice().reverse().slice(0, 6);
  tbody.innerHTML = recent.map(ep => `
    <tr style="border-bottom:1px solid rgba(255,255,255,.04)">
      <td class="py-3 pr-4 fp-muted text-xs">S${ep.season}E${ep.episode}</td>
      <td class="py-3 pr-4">
        <p class="text-white font-medium truncate max-w-xs">${ep.title}</p>
        <p class="text-xs fp-muted">${ep.tags.join(', ')}</p>
      </td>
      <td class="py-3 pr-4 fp-muted hidden sm:table-cell">${ep.date}</td>
      <td class="py-3 pr-4 fp-muted hidden md:table-cell">${ep.duration}</td>
      <td class="py-3">
        <span class="badge" style="background:rgba(16,185,129,.15);color:#6ee7b7;border:1px solid rgba(16,185,129,.2)">
          ${ep.isMock ? 'Mock' : 'Published'}
        </span>
      </td>
    </tr>
  `).join('');
</script>
</body>
</html>
