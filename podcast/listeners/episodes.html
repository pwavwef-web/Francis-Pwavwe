<!DOCTYPE html>
<html class="dark" lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Episodes ‚Äî The AZ Podcast</title>
  <meta name="description" content="Browse all episodes of The AZ Podcast. Raw, real conversations from A to Z.">
  <link rel="icon" href="../../favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700;800&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
  <style>
    :root{--fp-dark:#0a0a0f;--fp-gold:#fbbf24;--fp-accent:#6366f1;--fp-muted:#94a3b8}
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{background-color:#0a0a0f;color:#f8fafc;font-family:'Inter',sans-serif;min-height:100vh}
    .fp-poppins{font-family:'Poppins',sans-serif}
    .fp-gold{color:#fbbf24}
    .fp-muted{color:#94a3b8}
    .nav-link{display:inline-flex;align-items:center;padding:0.4rem 0.75rem;border-radius:0.375rem;font-size:0.875rem;color:#94a3b8;transition:color .2s,background .2s;font-family:'Inter',sans-serif;font-weight:400;text-decoration:none}
    .nav-link:hover,.nav-link.active{color:#f8fafc;background:rgba(99,102,241,.15)}
    .nav-link.active{color:#fbbf24}
    .mobile-nav-link{display:block;padding:0.6rem 1rem;border-radius:0.375rem;font-size:0.9rem;color:#94a3b8;text-decoration:none;transition:color .2s,background .2s}
    .mobile-nav-link:hover,.mobile-nav-link.active{color:#f8fafc;background:rgba(99,102,241,.15)}
    .mobile-nav-link.active{color:#fbbf24}
    .card{background:#111827;border:1px solid rgba(255,255,255,.08);border-radius:1rem;transition:border-color .2s}
    .card:hover{border-color:rgba(99,102,241,.35)}
    .badge{display:inline-flex;align-items:center;padding:0.2rem 0.6rem;border-radius:9999px;font-size:0.75rem;font-weight:600;letter-spacing:.04em}
    .filter-btn{padding:0.4rem 1rem;border-radius:9999px;font-size:0.8rem;font-weight:500;border:1px solid rgba(255,255,255,.15);color:#94a3b8;background:transparent;cursor:pointer;transition:all .2s}
    .filter-btn:hover,.filter-btn.active{background:#6366f1;border-color:#6366f1;color:#fff}
    .action-btn{display:inline-flex;align-items:center;gap:0.35rem;padding:0.4rem 0.9rem;border-radius:0.375rem;font-size:0.78rem;font-weight:600;cursor:pointer;transition:all .2s;border:none;text-decoration:none}
    .action-btn:hover{opacity:0.85}
    input[type="search"]{background:#1e293b;border:1px solid rgba(255,255,255,.12);border-radius:0.5rem;color:#f8fafc;padding:0.55rem 1rem 0.55rem 2.5rem;font-family:'Inter',sans-serif;font-size:0.875rem;outline:none;transition:border-color .2s;width:100%}
    input[type="search"]:focus{border-color:#6366f1}
    input[type="search"]::placeholder{color:#475569}
  </style>
</head>
<body>

<!-- NAV -->
<nav class="fixed top-0 left-0 right-0 z-50 bg-[#0a0a0f]/95 backdrop-blur-md border-b border-white/10">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <a href="../../fp-index.html" class="flex flex-col leading-none gap-0.5">
        <span class="text-white text-sm tracking-wide fp-poppins" style="font-weight:800">FRANCIS PWAVWE</span>
        <span class="text-xs tracking-[0.25em] fp-poppins fp-gold" style="font-weight:500">PRODUCTIONS</span>
      </a>
      <div class="hidden md:flex items-center gap-1">
        <a href="../../fp-index.html" class="nav-link">Home</a>
        <a href="../index.html" class="nav-link active">The AZ Podcast</a>
        <a href="episodes.html" class="nav-link" style="color:#fbbf24">Episodes</a>
        <a href="now-playing.html" class="nav-link">Now Playing</a>
        <a href="queue.html" class="nav-link">Queue</a>
      </div>
      <button id="menuBtn" class="md:hidden text-[#f8fafc] p-2 rounded-lg hover:bg-white/10 transition-colors">
        <i data-lucide="menu" class="w-6 h-6"></i>
      </button>
    </div>
    <div id="mobileMenu" class="hidden md:hidden pb-4 border-t border-white/10 mt-0 pt-3">
      <div class="flex flex-col gap-1">
        <a href="../../fp-index.html" class="mobile-nav-link">Home</a>
        <a href="../index.html" class="mobile-nav-link active">The AZ Podcast</a>
        <a href="episodes.html" class="mobile-nav-link active">Episodes</a>
        <a href="now-playing.html" class="mobile-nav-link">Now Playing</a>
        <a href="queue.html" class="mobile-nav-link">Queue</a>
      </div>
    </div>
  </div>
</nav>

<!-- HERO -->
<section class="pt-28 pb-10 px-4" style="background:linear-gradient(180deg,#0d1117 0%,#0a0a0f 100%)">
  <div class="max-w-4xl mx-auto">
    <div class="inline-flex items-center gap-2 mb-4">
      <a href="../index.html" class="text-xs fp-muted hover:text-white transition-colors">The AZ Podcast</a>
      <span class="fp-muted text-xs">/</span>
      <span class="text-xs text-white">Episodes</span>
    </div>
    <h1 class="fp-poppins text-4xl sm:text-5xl font-black text-white mb-3">All Episodes</h1>
    <p class="fp-muted text-lg max-w-xl">Every conversation, from day one. Browse, play, and queue.</p>
  </div>
</section>

<!-- FILTER + SEARCH -->
<section style="padding:1.5rem 0 0">
  <div class="max-w-4xl mx-auto px-4">
    <!-- Search -->
    <div class="relative mb-4">
      <i data-lucide="search" class="w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 fp-muted pointer-events-none"></i>
      <input type="search" id="searchInput" placeholder="Search episodes, guests, topics‚Ä¶" oninput="applyFilters()">
    </div>
    <!-- Tag filters -->
    <div id="tagFilters" class="flex flex-wrap gap-2 mb-6">
      <button class="filter-btn active" data-tag="all" onclick="setTag('all')">All</button>
    </div>
    <!-- Sort -->
    <div class="flex items-center gap-3 mb-6">
      <span class="text-xs fp-muted">Sort:</span>
      <button class="filter-btn active" id="sortNew" onclick="setSort('new')">Newest</button>
      <button class="filter-btn" id="sortOld" onclick="setSort('old')">Oldest</button>
      <span class="text-xs fp-muted ml-auto" id="resultCount"></span>
    </div>
  </div>
</section>

<!-- EPISODES LIST -->
<section style="padding:0 0 5rem">
  <div class="max-w-4xl mx-auto px-4">
    <div id="episodeList" class="space-y-4"></div>
    <div id="noResults" class="hidden text-center py-16">
      <div class="text-5xl mb-4">üîç</div>
      <h3 class="fp-poppins text-lg font-bold text-white mb-2">No episodes found</h3>
      <p class="fp-muted text-sm">Try a different search or filter.</p>
    </div>
  </div>
</section>

<!-- MINI PLAYER BAR -->
<div id="miniPlayer" class="hidden fixed bottom-0 left-0 right-0 z-50 border-t border-white/10" style="background:#0d1117/95;backdrop-filter:blur(12px)">
  <div class="max-w-4xl mx-auto px-4 py-3 flex items-center gap-4">
    <div class="w-10 h-10 rounded-lg flex items-center justify-center text-xl flex-shrink-0" id="miniCover" style="background:#1e293b">üéôÔ∏è</div>
    <div class="flex-1 min-w-0">
      <p class="text-white text-sm font-medium truncate" id="miniTitle">Nothing playing</p>
      <p class="text-xs fp-muted" id="miniEpNum"></p>
    </div>
    <div class="flex items-center gap-2">
      <button onclick="window.location.href='now-playing.html'" class="action-btn" style="background:#1e40af;color:#fff"><i data-lucide="maximize-2" class="w-3.5 h-3.5"></i> Open</button>
      <a href="queue.html" class="action-btn" style="background:rgba(99,102,241,.2);color:#a5b4fc;border:1px solid rgba(99,102,241,.3)"><i data-lucide="list-ordered" class="w-3.5 h-3.5"></i></a>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer style="background:#060608;border-top:1px solid rgba(255,255,255,.08);padding:2.5rem 0">
  <div class="max-w-4xl mx-auto px-4 flex flex-col sm:flex-row items-center justify-between gap-3">
    <p class="text-xs fp-muted">¬© 2026 Francis Pwavwe Productions ¬∑ <a href="../index.html" class="hover:text-white transition-colors">The AZ Podcast</a></p>
    <div class="flex gap-4 text-xs">
      <a href="now-playing.html" class="fp-muted hover:text-white transition-colors">Now Playing</a>
      <a href="queue.html" class="fp-muted hover:text-white transition-colors">Queue</a>
      <a href="../../fp-contact.html" class="fp-muted hover:text-white transition-colors">Contact</a>
    </div>
  </div>
</footer>

<script src="../az-episodes.js"></script>
<script>
  document.getElementById('menuBtn').addEventListener('click', () => {
    document.getElementById('mobileMenu').classList.toggle('hidden');
  });
  lucide.createIcons();

  let activeTag = 'all';
  let sortOrder = 'new';

  // Build tag filters
  const tagSet = new Set();
  AZ_EPISODES.forEach(ep => ep.tags.forEach(t => tagSet.add(t)));
  const tagContainer = document.getElementById('tagFilters');
  tagSet.forEach(tag => {
    const btn = document.createElement('button');
    btn.className = 'filter-btn';
    btn.dataset.tag = tag;
    btn.textContent = tag;
    btn.onclick = () => setTag(tag);
    tagContainer.appendChild(btn);
  });

  function setTag(tag) {
    activeTag = tag;
    document.querySelectorAll('.filter-btn[data-tag]').forEach(b => {
      b.classList.toggle('active', b.dataset.tag === tag);
    });
    applyFilters();
  }

  function setSort(order) {
    sortOrder = order;
    document.getElementById('sortNew').classList.toggle('active', order === 'new');
    document.getElementById('sortOld').classList.toggle('active', order === 'old');
    applyFilters();
  }

  function applyFilters() {
    const q = document.getElementById('searchInput').value.toLowerCase();
    let filtered = AZ_EPISODES.filter(ep => {
      const matchTag = activeTag === 'all' || ep.tags.includes(activeTag);
      const matchQ = !q || ep.title.toLowerCase().includes(q) || ep.description.toLowerCase().includes(q) || (ep.guest||'').toLowerCase().includes(q) || ep.tags.join(' ').toLowerCase().includes(q);
      return matchTag && matchQ;
    });
    if (sortOrder === 'old') filtered = filtered.slice().reverse();
    renderEpisodes(filtered);
  }

  function renderEpisodes(list) {
    const container = document.getElementById('episodeList');
    const noRes = document.getElementById('noResults');
    document.getElementById('resultCount').textContent = list.length + ' episode' + (list.length !== 1 ? 's' : '');

    if (!list.length) {
      container.innerHTML = '';
      noRes.classList.remove('hidden');
      return;
    }
    noRes.classList.add('hidden');

    container.innerHTML = list.map(ep => {
      const inQueue = getQueue().includes(ep.id);
      const isPlaying = getNowPlaying() === ep.id;
      return `
      <article class="card p-5 sm:p-6 flex flex-col sm:flex-row gap-4 sm:items-start" id="ep-card-${ep.id}">
        <div class="w-20 h-20 sm:w-24 sm:h-24 flex-shrink-0 rounded-xl bg-gradient-to-br from-[#1e293b] to-[#0f172a] flex items-center justify-center text-3xl select-none">${ep.coverEmoji}</div>
        <div class="flex-1 min-w-0">
          <div class="flex flex-wrap gap-2 mb-2">
            <span class="badge" style="background:rgba(251,191,36,.15);color:#fbbf24;border:1px solid rgba(251,191,36,.3)">S${ep.season} ¬∑ E${ep.episode}</span>
            ${ep.tags.map(t=>`<span class="badge" style="background:rgba(99,102,241,.12);color:#a5b4fc;border:1px solid rgba(99,102,241,.2)">${t}</span>`).join('')}
            ${ep.isMock ? `<span class="badge" style="background:rgba(251,191,36,.08);color:#fbbf24;border:1px solid rgba(251,191,36,.15);font-size:0.65rem">PREVIEW</span>` : ''}
          </div>
          <h3 class="fp-poppins font-bold text-white text-base sm:text-lg mb-1">${ep.title}</h3>
          ${ep.guest ? `<p class="text-xs fp-muted mb-1.5">w/ <span class="text-white">${ep.guest}</span></p>` : ''}
          <p class="text-sm fp-muted leading-relaxed mb-3 line-clamp-2">${ep.description}</p>
          <div class="flex flex-wrap items-center gap-2">
            <button onclick="playEpisode(${ep.id})" class="action-btn ${isPlaying ? '' : ''}" style="${isPlaying ? 'background:#1e40af;color:#fff' : 'background:#1e40af;color:#fff'}">
              <i data-lucide="${isPlaying ? 'pause' : 'play'}" class="w-3.5 h-3.5"></i> ${isPlaying ? 'Playing' : 'Play'}
            </button>
            <button onclick="toggleQueue(${ep.id}, this)" class="action-btn" style="${inQueue ? 'background:rgba(16,185,129,.15);color:#6ee7b7;border:1px solid rgba(16,185,129,.25)' : 'background:rgba(99,102,241,.15);color:#a5b4fc;border:1px solid rgba(99,102,241,.25)'}">
              <i data-lucide="${inQueue ? 'check' : 'plus'}" class="w-3.5 h-3.5"></i> ${inQueue ? 'In Queue' : 'Queue'}
            </button>
            <div class="flex gap-2 ml-1">
              ${ep.spotifyUrl !== '#' ? `<a href="${ep.spotifyUrl}" target="_blank" rel="noopener" class="action-btn" style="background:rgba(29,185,84,.12);color:#1db954;border:1px solid rgba(29,185,84,.2)"><i data-lucide="music" class="w-3 h-3"></i></a>` : ''}
              ${ep.applePodcastsUrl !== '#' ? `<a href="${ep.applePodcastsUrl}" target="_blank" rel="noopener" class="action-btn" style="background:rgba(147,51,234,.12);color:#c084fc;border:1px solid rgba(147,51,234,.2)"><i data-lucide="headphones" class="w-3 h-3"></i></a>` : ''}
              ${ep.youtubeUrl !== '#' ? `<a href="${ep.youtubeUrl}" target="_blank" rel="noopener" class="action-btn" style="background:rgba(239,68,68,.12);color:#f87171;border:1px solid rgba(239,68,68,.2)"><i data-lucide="youtube" class="w-3 h-3"></i></a>` : ''}
            </div>
            <span class="text-xs fp-muted ml-auto">${ep.duration} ¬∑ ${ep.date}</span>
          </div>
        </div>
      </article>`;
    }).join('');
    lucide.createIcons();
    updateMiniPlayer();
  }

  function playEpisode(id) {
    setNowPlaying(id);
    updateMiniPlayer();
    window.location.href = `now-playing.html?ep=${id}`;
  }

  function toggleQueue(id, btn) {
    const q = getQueue();
    if (q.includes(id)) {
      removeFromQueue(id);
      btn.style.cssText = 'background:rgba(99,102,241,.15);color:#a5b4fc;border:1px solid rgba(99,102,241,.25)';
      btn.innerHTML = '<i data-lucide="plus" class="w-3.5 h-3.5"></i> Queue';
    } else {
      addToQueue(id);
      btn.style.cssText = 'background:rgba(16,185,129,.15);color:#6ee7b7;border:1px solid rgba(16,185,129,.25)';
      btn.innerHTML = '<i data-lucide="check" class="w-3.5 h-3.5"></i> In Queue';
    }
    lucide.createIcons();
  }

  function updateMiniPlayer() {
    const id = getNowPlaying();
    const player = document.getElementById('miniPlayer');
    if (!id) { player.classList.add('hidden'); return; }
    const ep = getEpisodeById(id);
    if (!ep) { player.classList.add('hidden'); return; }
    player.classList.remove('hidden');
    document.getElementById('miniTitle').textContent = ep.title;
    document.getElementById('miniEpNum').textContent = `S${ep.season} ¬∑ E${ep.episode} ¬∑ ${ep.duration}`;
    document.getElementById('miniCover').textContent = ep.coverEmoji;
    // Add padding to body so content isn't hidden behind mini player
    document.body.style.paddingBottom = '72px';
  }

  // Check URL params
  const urlParams = new URLSearchParams(window.location.search);
  if (urlParams.get('add')) {
    addToQueue(parseInt(urlParams.get('add'), 10));
  }

  applyFilters();
  updateMiniPlayer();
</script>
</body>
</html>
