<!DOCTYPE html>
<html class="dark" lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Thoughts — Francis Pwavwe Productions</title>
  <meta name="description" content="Long-form reflections on tourism, leadership, and life by Francis Pwavwe.">
  <link rel="icon" href="favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700;800&family=Inter:wght@300;400;500&family=Playfair+Display:ital@0;1&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
  <style>
    :root{--fp-dark:#0a0a0f;--fp-gold:#fbbf24;--fp-accent:#6366f1;--fp-light:#f8fafc;--fp-muted:#94a3b8}
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{background-color:#0a0a0f;color:#f8fafc;font-family:'Inter',sans-serif;min-height:100vh}
    .fp-poppins{font-family:'Poppins',sans-serif}
    .fp-playfair{font-family:'Playfair Display',serif}
    .fp-gold{color:#fbbf24}
    .fp-muted{color:#94a3b8}
    .nav-link{display:inline-flex;align-items:center;padding:0.4rem 0.75rem;border-radius:0.375rem;font-size:0.875rem;color:#94a3b8;transition:color .2s,background .2s;font-family:'Inter',sans-serif;font-weight:400;text-decoration:none}
    .nav-link:hover,.nav-link.active{color:#f8fafc;background:rgba(99,102,241,.15)}
    .nav-link.active{color:#fbbf24}
    .mobile-nav-link{display:block;padding:0.6rem 1rem;border-radius:0.375rem;font-size:0.9rem;color:#94a3b8;text-decoration:none;transition:color .2s,background .2s}
    .mobile-nav-link:hover,.mobile-nav-link.active{color:#f8fafc;background:rgba(99,102,241,.15)}
    .mobile-nav-link.active{color:#fbbf24}
    .card{background:#111827;border:1px solid rgba(255,255,255,.08);border-radius:1rem;transition:border-color .2s,transform .2s}
    .card:hover{border-color:rgba(99,102,241,.4);transform:translateY(-2px)}
    .badge{display:inline-flex;align-items:center;padding:0.2rem 0.6rem;border-radius:9999px;font-size:0.75rem;font-weight:600;letter-spacing:.04em}
    .skeleton{background:linear-gradient(90deg,#1e293b 25%,#334155 50%,#1e293b 75%);background-size:200% 100%;animation:shimmer 1.5s infinite;border-radius:0.5rem}
    @keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
    /* Modal */
    #modalOverlay{position:fixed;inset:0;z-index:1000;background:rgba(0,0,0,.85);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;padding:1rem}
    #modalBox{background:#111827;border:1px solid rgba(255,255,255,.1);border-radius:1.25rem;width:100%;max-width:680px;max-height:90vh;overflow-y:auto;padding:2.5rem;position:relative}
    .modal-content p{margin-bottom:1rem;line-height:1.8;color:#cbd5e1}
    .modal-content h1,.modal-content h2,.modal-content h3{color:#f8fafc;font-family:'Poppins',sans-serif;font-weight:700;margin:1.5rem 0 0.5rem}
    .modal-content blockquote{border-left:3px solid #fbbf24;padding-left:1rem;font-family:'Playfair Display',serif;font-style:italic;color:#f8fafc;margin:1.5rem 0}
    ::-webkit-scrollbar{width:6px}
    ::-webkit-scrollbar-track{background:#1e293b}
    ::-webkit-scrollbar-thumb{background:#334155;border-radius:3px}
  </style>
</head>
<body>

<!-- NAV -->
<nav class="fixed top-0 left-0 right-0 z-50 bg-[#0a0a0f]/95 backdrop-blur-md border-b border-white/10">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <a href="fp-index.html" class="flex flex-col leading-none gap-0.5">
        <span class="text-white text-sm tracking-wide fp-poppins" style="font-weight:800">FRANCIS PWAVWE</span>
        <span class="text-xs tracking-[0.25em] fp-poppins fp-gold" style="font-weight:500">PRODUCTIONS</span>
      </a>
      <div class="hidden md:flex items-center gap-1">
        <a href="fp-index.html" class="nav-link">Home</a>
        <a href="fp-about.html" class="nav-link">About</a>
        <a href="fp-podcast.html" class="nav-link">Podcast</a>
        <a href="fp-blog.html" class="nav-link active">Thoughts</a>
        <a href="fp-productions.html" class="nav-link">Productions</a>
        <a href="fp-collaborate.html" class="nav-link">Collaborate</a>
        <a href="fp-contact.html" class="nav-link">Contact</a>
      </div>
      <button id="menuBtn" class="md:hidden text-[#f8fafc] p-2 rounded-lg hover:bg-white/10 transition-colors">
        <i data-lucide="menu" class="w-6 h-6"></i>
      </button>
    </div>
    <div id="mobileMenu" class="hidden md:hidden pb-4 border-t border-white/10 mt-0 pt-3">
      <div class="flex flex-col gap-1">
        <a href="fp-index.html" class="mobile-nav-link">Home</a>
        <a href="fp-about.html" class="mobile-nav-link">About</a>
        <a href="fp-podcast.html" class="mobile-nav-link">Podcast</a>
        <a href="fp-blog.html" class="mobile-nav-link active">Thoughts</a>
        <a href="fp-productions.html" class="mobile-nav-link">Productions</a>
        <a href="fp-collaborate.html" class="mobile-nav-link">Collaborate</a>
        <a href="fp-contact.html" class="mobile-nav-link">Contact</a>
      </div>
    </div>
  </div>
</nav>

<!-- HERO -->
<section class="pt-32 pb-20 px-4" style="background:linear-gradient(180deg,#0d1117 0%,#0a0a0f 100%)">
  <div class="max-w-4xl mx-auto text-center">
    <p class="text-xs font-semibold tracking-[0.2em] fp-gold mb-4 fp-poppins">LONG-FORM WRITING</p>
    <h1 class="fp-poppins text-5xl sm:text-6xl font-black text-white mb-4">Thoughts</h1>
    <p class="text-xl fp-muted max-w-xl mx-auto">Long-form reflections on tourism, leadership, and life — written slowly, so you can read them that way too.</p>
  </div>
</section>

<!-- THOUGHTS GRID -->
<section style="padding:3rem 0 5rem">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div id="thoughtsGrid" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-5">
      <!-- Skeletons -->
      <div class="card p-6 space-y-3">
        <div class="skeleton h-4 w-20"></div>
        <div class="skeleton h-6 w-4/5"></div>
        <div class="skeleton h-4 w-full"></div>
        <div class="skeleton h-4 w-3/4"></div>
        <div class="skeleton h-4 w-1/2"></div>
        <div class="skeleton h-9 w-28 mt-4"></div>
      </div>
      <div class="card p-6 space-y-3">
        <div class="skeleton h-4 w-20"></div>
        <div class="skeleton h-6 w-4/5"></div>
        <div class="skeleton h-4 w-full"></div>
        <div class="skeleton h-4 w-3/4"></div>
        <div class="skeleton h-4 w-1/2"></div>
        <div class="skeleton h-9 w-28 mt-4"></div>
      </div>
      <div class="card p-6 space-y-3">
        <div class="skeleton h-4 w-20"></div>
        <div class="skeleton h-6 w-4/5"></div>
        <div class="skeleton h-4 w-full"></div>
        <div class="skeleton h-4 w-3/4"></div>
        <div class="skeleton h-9 w-28 mt-4"></div>
      </div>
    </div>
    <div id="noThoughts" class="hidden text-center py-16">
      <i data-lucide="pen-line" class="w-12 h-12 mx-auto mb-4 fp-muted"></i>
      <h3 class="fp-poppins text-xl font-bold text-white mb-2">Essays coming soon</h3>
      <p class="fp-muted text-sm">The first long-form piece is being crafted. Check back soon.</p>
    </div>
  </div>
</section>

<!-- MODAL -->
<div id="modalOverlay" class="hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
  <div id="modalBox">
    <button id="closeModal" class="absolute top-4 right-4 text-[#94a3b8] hover:text-white transition-colors p-1" aria-label="Close">
      <i data-lucide="x" class="w-5 h-5"></i>
    </button>
    <div id="modalMeta" class="flex flex-wrap gap-2 mb-4"></div>
    <h2 id="modalTitle" class="fp-poppins text-2xl font-bold text-white mb-2"></h2>
    <p id="modalDate" class="text-xs fp-muted mb-6"></p>
    <div id="modalContent" class="modal-content text-[#cbd5e1] leading-relaxed text-base"></div>
  </div>
</div>

<!-- FOOTER -->
<footer style="background:#060608;border-top:1px solid rgba(255,255,255,.08);padding:3rem 0">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid sm:grid-cols-3 gap-8 mb-8">
      <div>
        <a href="fp-index.html" class="inline-flex flex-col leading-none gap-0.5 mb-3">
          <span class="text-white fp-poppins text-sm" style="font-weight:800">FRANCIS PWAVWE</span>
          <span class="text-xs tracking-[0.25em] fp-gold fp-poppins" style="font-weight:500">PRODUCTIONS</span>
        </a>
        <p class="text-xs fp-muted leading-relaxed">Clarity. Purpose. Production.<br>Cape Coast, Ghana.</p>
      </div>
      <div>
        <p class="text-xs font-semibold tracking-widest fp-muted mb-3 uppercase">Pages</p>
        <div class="flex flex-col gap-2">
          <a href="fp-about.html" class="text-sm fp-muted hover:text-white transition-colors">About</a>
          <a href="fp-podcast.html" class="text-sm fp-muted hover:text-white transition-colors">Podcast</a>
          <a href="fp-blog.html" class="text-sm fp-muted hover:text-white transition-colors">Thoughts</a>
          <a href="fp-productions.html" class="text-sm fp-muted hover:text-white transition-colors">Productions</a>
        </div>
      </div>
      <div>
        <p class="text-xs font-semibold tracking-widest fp-muted mb-3 uppercase">Connect</p>
        <div class="flex flex-col gap-2">
          <a href="francis.html" class="text-sm fp-muted hover:text-white transition-colors">Personal Portfolio</a>
          <a href="https://azlearner.me" target="_blank" rel="noopener" class="text-sm fp-muted hover:text-white transition-colors">AZ Learner</a>
          <a href="fp-contact.html" class="text-sm fp-muted hover:text-white transition-colors">Contact</a>
          <a href="fp-collaborate.html" class="text-sm fp-muted hover:text-white transition-colors">Collaborate</a>
        </div>
      </div>
    </div>
    <div class="flex flex-col sm:flex-row items-center justify-between gap-4 pt-6 border-t border-white/10">
      <p class="text-xs fp-muted">© 2026 Francis Pwavwe Productions. All rights reserved.</p>
      <div class="flex items-center gap-4">
        <a href="https://linkedin.com" target="_blank" rel="noopener" aria-label="LinkedIn" class="fp-muted hover:text-white transition-colors"><i data-lucide="linkedin" class="w-4 h-4"></i></a>
        <a href="https://instagram.com" target="_blank" rel="noopener" aria-label="Instagram" class="fp-muted hover:text-white transition-colors"><i data-lucide="instagram" class="w-4 h-4"></i></a>
        <a href="https://youtube.com" target="_blank" rel="noopener" aria-label="YouTube" class="fp-muted hover:text-white transition-colors"><i data-lucide="youtube" class="w-4 h-4"></i></a>
        <a href="https://twitter.com" target="_blank" rel="noopener" aria-label="Twitter/X" class="fp-muted hover:text-white transition-colors"><i data-lucide="twitter" class="w-4 h-4"></i></a>
      </div>
    </div>
  </div>
</footer>

<script>
  const menuBtn = document.getElementById('menuBtn');
  const mobileMenu = document.getElementById('mobileMenu');
  menuBtn.addEventListener('click', () => { mobileMenu.classList.toggle('hidden'); });

  const modalOverlay = document.getElementById('modalOverlay');
  const closeModal = document.getElementById('closeModal');
  closeModal.addEventListener('click', () => modalOverlay.classList.add('hidden'));
  modalOverlay.addEventListener('click', (e) => { if (e.target === modalOverlay) modalOverlay.classList.add('hidden'); });
  document.addEventListener('keydown', (e) => { if (e.key === 'Escape') modalOverlay.classList.add('hidden'); });

  window.openThought = function(title, content, date, category) {
    document.getElementById('modalTitle').textContent = title;
    document.getElementById('modalDate').textContent = date;
    const meta = document.getElementById('modalMeta');
    meta.innerHTML = category ? `<span class="badge" style="background:rgba(99,102,241,.15);color:#a5b4fc;border:1px solid rgba(99,102,241,.3)">${category}</span>` : '';
    // Render content — basic formatting: line breaks → paragraphs
    const paragraphs = content.split(/\n\n+/).filter(Boolean).map(p => `<p>${p.replace(/\n/g,'<br>')}</p>`).join('');
    document.getElementById('modalContent').innerHTML = paragraphs || `<p>${content}</p>`;
    modalOverlay.classList.remove('hidden');
    document.getElementById('modalBox').scrollTop = 0;
    lucide.createIcons();
  };

  lucide.createIcons();
</script>

<script type="module">
  import { initializeApp } from 'https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js';
  import { getFirestore, collection, query, orderBy, getDocs } from 'https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js';

  const firebaseConfig = {
    apiKey: 'AIzaSyB6lxgjNY4CRNHAe3pAgR5SYv1ohL8brOI',
    authDomain: 'francis-pwavwe.firebaseapp.com',
    projectId: 'francis-pwavwe',
    storageBucket: 'francis-pwavwe.firebasestorage.app',
    messagingSenderId: '658069378543',
    appId: '1:658069378543:web:87b1dcb0dd27d3255bd21a'
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Store thought data keyed by id for modal access
  const thoughtsMap = {};

  function fmtDate(ts) {
    if (!ts) return '';
    const d = ts.toDate ? ts.toDate() : new Date(ts);
    return d.toLocaleDateString('en-GB', { day:'numeric', month:'long', year:'numeric' });
  }

  async function loadThoughts() {
    const grid = document.getElementById('thoughtsGrid');
    const noThoughts = document.getElementById('noThoughts');
    try {
      const q = query(collection(db,'thoughts'), orderBy('timestamp','desc'));
      const snap = await getDocs(q);
      if (snap.empty) {
        grid.innerHTML = '';
        noThoughts.classList.remove('hidden');
        lucide.createIcons();
        return;
      }
      grid.innerHTML = snap.docs.map(d => {
        const t = d.data();
        const id = d.id;
        thoughtsMap[id] = t;
        const excerpt = (t.content||t.excerpt||'').substring(0,150) + ((t.content||'').length > 150 ? '…' : '');
        const dateStr = fmtDate(t.timestamp);
        return `<article class="card p-6 flex flex-col cursor-pointer" data-thought-id="${id}">
          <div class="flex flex-wrap gap-2 mb-3">
            ${t.category ? `<span class="badge" style="background:rgba(99,102,241,.15);color:#a5b4fc;border:1px solid rgba(99,102,241,.3)">${t.category}</span>` : ''}
            <span class="text-xs fp-muted">${dateStr}</span>
          </div>
          <h3 class="fp-poppins font-bold text-white text-base mb-2 flex-1">${t.title||'Untitled'}</h3>
          <p class="text-sm fp-muted leading-relaxed mb-4">${excerpt}</p>
          <span class="inline-flex items-center gap-1 text-xs text-[#6366f1] font-medium hover:text-[#a5b4fc] transition-colors mt-auto">Read more <i data-lucide="arrow-right" class="w-3 h-3"></i></span>
        </article>`;
      }).join('');
      grid.querySelectorAll('[data-thought-id]').forEach(card => {
        card.addEventListener('click', () => {
          const t = thoughtsMap[card.dataset.thoughtId];
          if (!t) return;
          openThought(t.title||'Untitled', t.content||t.excerpt||'No content available.', fmtDate(t.timestamp), t.category||'');
        });
      });
      lucide.createIcons();
    } catch(e) {
      grid.innerHTML = `<div class="col-span-3 card p-8 text-center fp-muted text-sm">Could not load thoughts. Please try again later.</div>`;
    }
  }

  loadThoughts();
</script>
</body>
</html>
