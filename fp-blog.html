<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Blog & Thoughts — Francis Pwavwe Productions</title>
  <link rel="icon" type="image/png" href="favicon.png" />
  <meta name="description" content="Long-form thought pieces on tourism, leadership, and life by Francis Pwavwe." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700;800&family=Inter:wght@300;400;500&family=Playfair+Display:ital@0;1&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'fp-dark': '#0a0a0f', 'fp-primary': '#1e40af', 'fp-gold': '#fbbf24',
            'fp-accent': '#6366f1', 'fp-light': '#f8fafc', 'fp-muted': '#94a3b8',
          },
          fontFamily: {
            poppins: ['Poppins', 'sans-serif'],
            inter: ['Inter', 'sans-serif'],
            playfair: ['Playfair Display', 'serif'],
          }
        }
      }
    }
  </script>
  <style>
    body { background-color: #0a0a0f; font-family: 'Inter', sans-serif; color: #f8fafc; }
    .nav-link { transition: color 0.2s ease; }
    .nav-link:hover { color: #fbbf24; }
    #mobile-menu { display: none; }
    #mobile-menu.open { display: block; }
    .tag-pill { background: rgba(99,102,241,0.2); border: 1px solid rgba(99,102,241,0.4); color: #a5b4fc; font-size: 0.75rem; padding: 2px 10px; border-radius: 9999px; cursor: pointer; transition: all 0.2s ease; display: inline-block; }
    .tag-pill:hover, .tag-pill.active { background: rgba(99,102,241,0.45); border-color: #6366f1; color: #fff; }
    .tag-pill.gold { background: rgba(251,191,36,0.15); border-color: rgba(251,191,36,0.4); color: #fbbf24; }
    .tag-pill.gold:hover, .tag-pill.gold.active { background: rgba(251,191,36,0.3); }
    .post-card { background: #111118; border: 1px solid rgba(255,255,255,0.05); border-radius: 16px; transition: border-color 0.2s ease, transform 0.2s ease; }
    .post-card:hover { border-color: rgba(251,191,36,0.2); transform: translateY(-2px); }
    #search-box:focus { outline: none; border-color: rgba(251,191,36,0.4); }
    .section-divider { border: none; border-top: 1px solid rgba(255,255,255,0.06); }
  </style>
</head>
<body class="bg-fp-dark text-fp-light">

  <!-- ===== NAV ===== -->
  <nav class="fixed top-0 w-full z-50 bg-[#0a0a0f]/90 backdrop-blur-md border-b border-white/5">
    <div class="max-w-7xl mx-auto px-5 py-4 flex items-center justify-between">
      <a href="fp-index.html" class="flex flex-col leading-tight">
        <span class="font-poppins font-extrabold text-lg text-fp-light tracking-tight">FRANCIS PWAVWE</span>
        <span class="font-poppins font-medium text-xs text-fp-gold tracking-[0.25em] uppercase">Productions</span>
      </a>
      <div class="hidden md:flex items-center gap-7 text-sm text-fp-muted font-inter">
        <a href="fp-about.html" class="nav-link">About</a>
        <a href="fp-podcast.html" class="nav-link">Podcast</a>
        <a href="fp-blog.html" class="nav-link text-fp-gold">Blog</a>
        <a href="fp-productions.html" class="nav-link">Productions</a>
        <a href="fp-collaborate.html" class="nav-link">Collaborate</a>
        <a href="fp-contact.html" class="nav-link">Contact</a>
        <a href="index.html" class="nav-link text-fp-muted/60 text-xs border border-white/10 rounded px-3 py-1 hover:border-fp-gold/40">Portfolio ↗</a>
      </div>
      <button id="hamburger" class="md:hidden text-fp-muted focus:outline-none" aria-label="Open menu">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
      </button>
    </div>
    <div id="mobile-menu" class="md:hidden bg-[#0d0d14] border-t border-white/5 px-5 py-4 flex flex-col gap-4 text-fp-muted text-sm">
      <a href="fp-about.html" class="nav-link">About</a>
      <a href="fp-podcast.html" class="nav-link">Podcast</a>
      <a href="fp-blog.html" class="text-fp-gold">Blog</a>
      <a href="fp-productions.html" class="nav-link">Productions</a>
      <a href="fp-collaborate.html" class="nav-link">Collaborate</a>
      <a href="fp-contact.html" class="nav-link">Contact</a>
      <a href="index.html" class="nav-link text-fp-muted/60 text-xs">← Back to Portfolio</a>
    </div>
  </nav>

  <!-- ===== HEADER ===== -->
  <header class="pt-36 pb-14 px-5 text-center" style="background: radial-gradient(ellipse at 50% 0%, rgba(30,64,175,0.2) 0%, rgba(10,10,15,0) 65%);">
    <div class="max-w-3xl mx-auto">
      <p class="font-poppins font-medium text-fp-gold text-xs tracking-[0.3em] uppercase mb-4">Written Work</p>
      <h1 class="font-poppins font-extrabold text-4xl sm:text-5xl text-fp-light mb-4">Thoughts</h1>
      <p class="font-inter font-light text-fp-muted text-lg max-w-xl mx-auto leading-relaxed">
        Long-form essays on tourism, leadership, philosophy, and the art of building things that last.
      </p>
    </div>
  </header>

  <!-- ===== SEARCH & FILTER ===== -->
  <section class="py-8 px-5 border-b border-white/5 sticky top-[72px] z-40 bg-[#0a0a0f]/95 backdrop-blur-sm">
    <div class="max-w-5xl mx-auto flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between">
      <input
        id="search-box"
        type="search"
        placeholder="Search thoughts…"
        class="bg-[#111118] border border-white/10 rounded-lg px-4 py-2.5 text-fp-light placeholder-fp-muted/50 text-sm font-inter w-full sm:w-72 transition-colors"
      />
      <div id="cat-filters" class="flex flex-wrap gap-2">
        <button class="tag-pill gold active" data-cat="all">All</button>
        <button class="tag-pill" data-cat="Tourism">Tourism</button>
        <button class="tag-pill" data-cat="Leadership">Leadership</button>
        <button class="tag-pill" data-cat="Philosophy">Philosophy</button>
        <button class="tag-pill" data-cat="Education">Education</button>
        <button class="tag-pill" data-cat="Personal">Personal</button>
      </div>
    </div>
  </section>

  <!-- ===== POSTS GRID ===== -->
  <section class="py-14 px-5">
    <div class="max-w-5xl mx-auto">

      <!-- Loading -->
      <div id="posts-loading" class="text-center py-16 text-fp-muted">
        <svg class="w-8 h-8 mx-auto mb-4 animate-spin text-fp-muted/40" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="3"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path></svg>
        <p class="font-inter text-sm">Loading thoughts…</p>
      </div>

      <!-- Firestore-populated list -->
      <div id="posts-list" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6" style="display:none;"></div>

      <!-- Static placeholders (fallback) -->
      <div id="posts-placeholder" class="hidden grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <article class="post-card flex flex-col" data-cat="Philosophy" data-title="the age of distraction">
          <div class="h-40 bg-gradient-to-br from-[#1e40af]/25 to-[#6366f1]/15 rounded-t-2xl flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-fp-muted/30" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>
          </div>
          <div class="p-6 flex flex-col flex-1">
            <div class="flex items-center gap-2 mb-3">
              <span class="tag-pill">Philosophy</span>
              <span class="font-inter text-fp-muted/60 text-xs">Jan 2025</span>
            </div>
            <h3 class="font-poppins font-bold text-fp-light text-base mb-3 leading-snug flex-1">The Age of Distraction and the Mind That Resists</h3>
            <p class="font-inter font-light text-fp-muted text-sm leading-relaxed mb-5">We are the most informed generation in history — and perhaps the least able to act on that information. An essay on attention, resistance, and what deep work really costs.</p>
            <a href="fp-blog.html" class="font-poppins font-semibold text-fp-gold text-xs border-b border-fp-gold/40 pb-0.5 hover:border-fp-gold transition-colors self-start">Read →</a>
          </div>
        </article>
        <article class="post-card flex flex-col" data-cat="Tourism" data-title="rethinking african tourism">
          <div class="h-40 bg-gradient-to-br from-[#fbbf24]/10 to-[#1e40af]/10 rounded-t-2xl flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-fp-muted/30" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
          </div>
          <div class="p-6 flex flex-col flex-1">
            <div class="flex items-center gap-2 mb-3">
              <span class="tag-pill" style="background:rgba(251,191,36,0.15);border-color:rgba(251,191,36,0.4);color:#fbbf24;">Tourism</span>
              <span class="font-inter text-fp-muted/60 text-xs">Mar 2025</span>
            </div>
            <h3 class="font-poppins font-bold text-fp-light text-base mb-3 leading-snug flex-1">Rethinking African Tourism: From Spectacle to Story</h3>
            <p class="font-inter font-light text-fp-muted text-sm leading-relaxed mb-5">Tourism in Africa has long been packaged for the outside gaze. What happens when we design it for ourselves first?</p>
            <a href="fp-blog.html" class="font-poppins font-semibold text-fp-gold text-xs border-b border-fp-gold/40 pb-0.5 hover:border-fp-gold transition-colors self-start">Read →</a>
          </div>
        </article>
        <article class="post-card flex flex-col" data-cat="Leadership" data-title="what cadets taught me">
          <div class="h-40 bg-gradient-to-br from-[#6366f1]/20 to-[#0a0a0f] rounded-t-2xl flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-fp-muted/30" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
          </div>
          <div class="p-6 flex flex-col flex-1">
            <div class="flex items-center gap-2 mb-3">
              <span class="tag-pill">Leadership</span>
              <span class="font-inter text-fp-muted/60 text-xs">Apr 2025</span>
            </div>
            <h3 class="font-poppins font-bold text-fp-light text-base mb-3 leading-snug flex-1">What Cadets Taught Me About Showing Up</h3>
            <p class="font-inter font-light text-fp-muted text-sm leading-relaxed mb-5">Three years of cadet training didn't teach me discipline — it taught me the difference between discipline and obedience, and why only one of them builds leaders.</p>
            <a href="fp-blog.html" class="font-poppins font-semibold text-fp-gold text-xs border-b border-fp-gold/40 pb-0.5 hover:border-fp-gold transition-colors self-start">Read →</a>
          </div>
        </article>
      </div>

      <p id="no-results" class="hidden font-inter text-fp-muted text-sm text-center py-12">No posts match your search.</p>
    </div>
  </section>

  <!-- ===== FOOTER ===== -->
  <footer class="border-t border-white/5 py-10 px-5">
    <div class="max-w-5xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-4">
      <p class="font-inter text-fp-muted text-xs">© <span id="year"></span> Francis Pwavwe Productions.</p>
      <div class="flex gap-6 text-sm text-fp-muted">
        <a href="fp-index.html" class="nav-link">Home</a>
        <a href="fp-podcast.html" class="nav-link">Podcast</a>
        <a href="fp-productions.html" class="nav-link">Productions</a>
        <a href="fp-collaborate.html" class="nav-link">Collaborate</a>
        <a href="index.html" class="nav-link text-fp-muted/50">Portfolio ↗</a>
      </div>
    </div>
  </footer>

  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js';
    import { getFirestore, collection, query, where, orderBy, getDocs }
      from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js';

    const firebaseConfig = {
      apiKey: "AIzaSyB6lxgjNY4CRNHAe3pAgR5SYv1ohL8brOI",
      authDomain: "francis-pwavwe.firebaseapp.com",
      projectId: "francis-pwavwe",
      storageBucket: "francis-pwavwe.firebasestorage.app",
      messagingSenderId: "658069378543",
      appId: "1:658069378543:web:87b1dcb0dd27d3255bd21a"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    let allPosts = [];

    function buildPostCard(post) {
      const date = post.timestamp?.toDate
        ? post.timestamp.toDate().toLocaleDateString('en-GB', {month:'short', year:'numeric'})
        : '';
      const excerpt = (post.content || '').substring(0, 160);
      const cat = post.category || 'Thoughts';
      const catStyle = cat === 'Tourism'
        ? 'background:rgba(251,191,36,0.15);border-color:rgba(251,191,36,0.4);color:#fbbf24;'
        : '';
      return `<article class="post-card flex flex-col" data-cat="${cat}" data-title="${(post.title||'').toLowerCase()}">
        <div class="h-40 bg-gradient-to-br from-[#1e40af]/25 to-[#6366f1]/15 rounded-t-2xl flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-fp-muted/30" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>
        </div>
        <div class="p-6 flex flex-col flex-1">
          <div class="flex items-center gap-2 mb-3">
            <span class="tag-pill" style="${catStyle}">${cat}</span>
            ${date ? `<span class="font-inter text-fp-muted/60 text-xs">${date}</span>` : ''}
          </div>
          <h3 class="font-poppins font-bold text-fp-light text-base mb-3 leading-snug flex-1">${post.title||'Untitled'}</h3>
          <p class="font-inter font-light text-fp-muted text-sm leading-relaxed mb-5">${excerpt}${excerpt.length >= 160 ? '…' : ''}</p>
          <span class="font-poppins font-semibold text-fp-gold text-xs border-b border-fp-gold/40 pb-0.5 self-start">Coming soon →</span>
        </div>
      </article>`;
    }

    async function loadPosts() {
      try {
        const q = query(collection(db, 'thoughts'), orderBy('timestamp', 'desc'));
        const snap = await getDocs(q);
        document.getElementById('posts-loading').style.display = 'none';
        if (snap.empty) {
          document.getElementById('posts-placeholder').classList.remove('hidden');
          return;
        }
        allPosts = snap.docs.map(d => ({ id: d.id, ...d.data() })).filter(p => p.category !== 'Podcast');
        renderPosts(allPosts);
      } catch (_) {
        document.getElementById('posts-loading').style.display = 'none';
        document.getElementById('posts-placeholder').classList.remove('hidden');
      }
    }

    function renderPosts(posts) {
      const list = document.getElementById('posts-list');
      list.style.display = 'grid';
      list.innerHTML = posts.map(buildPostCard).join('');
      document.getElementById('no-results').classList.toggle('hidden', posts.length > 0);
    }

    loadPosts();

    let activeCat = 'all';
    document.getElementById('cat-filters').addEventListener('click', (e) => {
      const btn = e.target.closest('[data-cat]');
      if (!btn) return;
      activeCat = btn.dataset.cat;
      document.querySelectorAll('[data-cat]').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      applyFilters();
    });
    document.getElementById('search-box').addEventListener('input', applyFilters);

    function applyFilters() {
      const searchVal = document.getElementById('search-box').value.toLowerCase();
      if (allPosts.length) {
        const filtered = allPosts.filter(p => {
          const matchCat = activeCat === 'all' || p.category === activeCat;
          const matchSearch = !searchVal || (p.title||'').toLowerCase().includes(searchVal) || (p.content||'').toLowerCase().includes(searchVal);
          return matchCat && matchSearch;
        });
        renderPosts(filtered);
      } else {
        document.querySelectorAll('.post-card').forEach(card => {
          const matchCat = activeCat === 'all' || card.dataset.cat === activeCat;
          const matchSearch = !searchVal || card.dataset.title.includes(searchVal);
          card.style.display = matchCat && matchSearch ? '' : 'none';
        });
      }
    }
  </script>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    document.getElementById('hamburger').addEventListener('click', () => {
      document.getElementById('mobile-menu').classList.toggle('open');
    });
  </script>
</body>
</html>
